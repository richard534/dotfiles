#!/usr/bin/env bash

# download oh-my-zsh
git clone https://github.com/robbyrussell/oh-my-zsh.git ~/.oh-my-zsh

## Link dotfiles from dotfiles dir -> home dir
# get source directory within which this bash script is located
BASEDIR="$(cd "$(dirname "${BASH_SOURCE[0]}")" && pwd)"

# vim
ln -s ${BASEDIR}/vimrc ~/.vimrc
ln -s ${BASEDIR}/vim/ ~/.vim

# ctags
ln -s ${BASEDIR}/ctags.d ~/.ctags.d

# tmux
ln -s ${BASEDIR}/tmux.conf ~/.tmux.conf

# zsh/oh-my-zsh
echo "# Put secret zsh config here" > ~/zshrc_local
ln -s ${BASEDIR}/zshrc ~/.zshrc
ln -s ${BASEDIR}/zshenv ~/.zshenv
ln -s ${BASEDIR}/git-custom.zsh ~/.oh-my-zsh/custom/git-custom.zsh
ln -s ${BASEDIR}/docker-custom.zsh ~/.oh-my-zsh/custom/docker-custom.zsh
ln -s ${BASEDIR}/ctags-custom.zsh ~/.oh-my-zsh/custom/ctags-custom.zsh
ln -s ${BASEDIR}/misc-custom.zsh ~/.oh-my-zsh/custom/misc-custom.zsh
chsh -s /bin/zsh # set default shell to zsh

# intelij vimrc
ln -s ${BASEDIR}/ideavimrc ~/.ideavimrc

# git
ln -s ${BASEDIR}/gitignore_global ~/.gitignore_global
ln -s ${BASEDIR}/gitconfig ~/.gitconfig
rm -rf ~/.git_template
ln -s ${BASEDIR}/git_template/ ~/.git_template

# psql
ln -s ${BASEDIR}/psqlrc ~/.psqlrc

# flake8 (python linter)
ln -s ${BASEDIR}/flake8 ~/.config/flake8

# yapf (python linter)
mkdir ~/.config/yapf
ln -s ${BASEDIR}/yapf-config ~/.config/yapf/style

# youcompleteme virtualenv utility python script
ln -s ${BASEDIR}/global_extra_conf.py ~/global_extra_conf.py

# emacs
ln -s ${BASEDIR}/emacs ~/.emacs
ln -s ${BASEDIR}/emacs.d/ ~/.emacs.d

# pgcli
mkdir ~/.config/pgcli
ln -s ${BASEDIR}/pgcli-config ~/.config/pgcli/config

