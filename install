#!/bin/bash

git submodule update --init --recursive

########################################

# Check to see if Homebrew is installed, and install it if it is not
command -v brew >/dev/null 2>&1 || { echo >&2 "Installing Homebrew Now"; \
/usr/bin/ruby -e "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)"; }

# Install packages via homebrew
# tmux
if ! brew ls --versions tmux > /dev/null; then
    brew install tmux
fi

# vim (more up-to-date then osx default)
if ! brew ls --versions vim > /dev/null; then
    brew install vim 
fi

########################################

# Link dotfiles
# get source directory within which this bash script is located
BASEDIR="$(cd "$(dirname "${BASH_SOURCE[0]}")" && pwd)"

# vim
ln -s ${BASEDIR}/vimrc ~/.vimrc
ln -s ${BASEDIR}/vim/ ~/.vim

# tmux
ln -s ${BASEDIR}/tmux.conf ~/.tmux.conf

# zsh
ln -s ${BASEDIR}/zshrc ~/.zshrc
